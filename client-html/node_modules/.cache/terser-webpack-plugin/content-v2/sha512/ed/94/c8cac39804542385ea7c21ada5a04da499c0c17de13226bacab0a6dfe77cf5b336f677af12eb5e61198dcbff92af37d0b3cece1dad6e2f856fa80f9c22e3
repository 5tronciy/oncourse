{"map":{"version":3,"sources":["documents.99-SNAPSHOT.js"],"names":["window","push","2531","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","withStyles","withStyles_default","createStyles","createStyles_default","es","redux_form_es","OpenWith","Button","FileUploaderDialog","utils","DocumentsService","ListView","actions","tags_actions","getManualLink","constants","documents_actions","CircularProgress","clsx_m","index_es","free_solid_svg_icons_index_es","Field","styles_createStyles","styles_withStyles","Grid","FormControlLabel","Typography","Paper","Collapse","ExpandMore","format","AppBarHelpMenu","FormField","Switch","EditInPlaceField","FormSubmitButton","SimpleTagList","validateTagsList","CustomAppBar","dates_format","IconButton","Avatar","Card","CardContent","CardHeader","makeStyles","makeStyles_default","OpenInNew","SupervisorAccount","Attachment","Directions","Link","LockOutlined","Language","AlertTitle","Alert","common_actions","CheckboxField","links","useStyles","theme","codeArea","borderRadius","shape","background","table","contrastRow","main","padding","spacing","border","outline","whiteSpace","overflow","textOverflow","fontSize","fontFamily","color","width","linkButton","action","marginTop","marginRight","attachments","display","gridTemplateColumns","gridGap","attachmentsTwoColumn","lockCheckbox","marginLeft","items_DocumentShare","validUrl","dispatch","documentSource","form","attachmentRef","Object","summaryRef","groupedAttachmentRelations","attachmentRelations","availableOptions","setAvailableOptions","onAttachmentsOver","current","querySelectorAll","forEach","node","classList","add","onAttachmentsOut","remove","id","addEventListener","removeEventListener","linkInput","classes","onSharedChange","e","val","AttachmentRelations","length","a","createElement","portalEnabled","access","className","keys","map","entity","relations","relationsMap","entityId","displayedRelations","relatedContacts","c","name","slice","displayedRelationsCount","relationsCount","moreCount","key","component","capitalize","onClick","entityIds","toLowerCase","onAttachmentCategoryClick","join","onAttachmentPeopleClick","variant","index","label","root","control","checked","shared","onChange","isCourseOnly","contactRelated","SummaryLabel","linkOrPublic","includes","tutorsAndStudents","severity","ref","title","avatar","in","Fragment","readOnly","type","value","select","document","execCommand","setSelectionRange","message","success","icon","validateTagList","allValues","props","tags","openDocumentURL","url","stopPropagation","open","components_DocumentGeneralTab","state","entityTags","previewPaper","height","&:hover","& $viewDocument","previewPaperExpand","preview","backgroundSize","backgroundRepeat","backgroundPosition","previewIcon","previewHoverImage","boxShadow","palette","primary","wh100","documentTitle","margin","documentTitleExpandMore","rotateExpandMore","transform","viewDocument","top","left","rootPanel","gridColumnGap","settingsWrapper","divider","whiteTextColor","removedSwitch","justifyContent","alignItems","marginBottom","twoColumn","values","hovered","rootEntity","manualLink","onCloseClick","isNew","dirty","invalid","fileRef","moreDetailcollapsed","setMoreDetailcollapsed","useState","loadingDocVersion","setLoadingDocVersion","documentVersion","currentIcon","mimeType","Array","isArray","versions","thumbnail","handleFileSelect","file","files","createDocumentVersion","then","docVersion","catch","error","console","onUploadClick","click","headerField","required","fullWidth","size","thickness","buttonProgress","container","item","xs","created","Date","createdOn","modified","modifiedOn","auditsUrl","manualUrl","disabled","style","backgroundImage","[object Object]","coloredHover","fileName","mountOnEnter","unmountOnExit","createdBy","alignContent","validate","undefined","multiline","Boolean","version","added","replace","textInfo","components_DocumentEditView","assign","Initial","versionId","description","isRemoved","Documents_filterGroups","filters","expression","active","findRelatedGroup","list","Documents_manualLink","setRowClasses","deleteDisabledCondition","listProps","selection","records","rows","columns","row","find","isRemovedIndex","filter","visible","system","findIndex","attribute","fullScreenEditView","onInit","getFilters","getTags","clearListState","getDocumentRecord","onSave","onCreate","onDelete","setFilterGroups","filterGroups","updateSelection","setListCreatingNew","creatingNew","setListFullScreenEditView","linkBtnWrapper","linkBtn","lineHeight","openDocIcon","paddingRight","maxHeight","history","location","match","params","openFileModal","setOpenFileModal","isDragging","setIsDragging","draggingEventAdded","setSraggingEventAdded","manuallyOpenModal","setManuallyOpenModal","dialogRef","useRef","updateHistory","pathname","search","origin","href","setCreateNew","useCallback","fileDragEvent","openAddDialog","preventDefault","addDialogRefEvents","getCustomColumnFormats","link","v","Documents_openDocumentURL","onDocumentCreate","doc","docModel","handleDocumentUpload","searchDocument","res","Documents_handleFileSelect","onDocumentModalClose","useEffect","setTimeout","primaryColumn","secondaryColumn","customColumnFormats","editViewProps","hideFullScreenAppBar","EditViewContent","getEditRecord","customOnCreate","findRelated","filterGroupsInitial","noListTags","dialog","opened","isBackdropDragging","backdropEnabled","onClose"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2531:function(e,t,a){\"use strict\";a.r(t);var n=a(0),l=a.n(n),s=a(23),r=a.n(s),c=a(32),i=a.n(c),o=a(10),m=a(1),d=a(2491),u=a(225),b=a(1014),h=a(301),p=a(238),E=a(349),v=a(8),g=a(88),f=a(67),C=a(11),w=a(340),y=a(679),O=a(6),j=a(557),x=a(318),k=a(1017),N=a(196),S=a(17),R=a(226),T=a(277),I=a(60),L=a(676),D=a(668),P=a(2463),A=a(147),B=(a(12),a(65)),V=a(5),$=a(173),z=a(109),F=a(83),W=a(1250),U=a(488),M=a(35),H=a(20),q=(a(19),a(171)),G=a(2501),J=a(2441),K=a(2442),Y=a(2471),Z=a(216),_=a.n(Z),Q=a(2488),X=a(2489),ee=a(1329),te=a(2474),ae=a(2473),ne=a(2490),le=a(2472),se=a(2475),re=a(2370),ce=a(3),ie=a(76),oe=a(40);const me=_()(e=>({codeArea:{borderRadius:e.shape.borderRadius,background:e.table.contrastRow.main,padding:e.spacing(1),border:\"none\",outline:\"none\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\",fontSize:\"inherit\",fontFamily:\"inherit\",color:\"inherit\",width:\"100%\"},linkButton:{fontSize:\"1.2em\",padding:e.spacing(.5)},action:{marginTop:0,marginRight:e.spacing(-4)},attachments:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gridGap:e.spacing(1)},attachmentsTwoColumn:{gridTemplateColumns:\"1fr 1fr\"},lockCheckbox:{marginLeft:e.spacing(1),marginTop:e.spacing(-.5)}}));var de=({validUrl:e,dispatch:t,documentSource:a,form:s})=>{const r=Object(n.useRef)(null),c=Object(n.useRef)(null),i=Object(h.e)(a.attachmentRelations),[o,d]=Object(n.useState)(Object(h.a)(i)),b=()=>{r.current.querySelectorAll(\".highlight\").forEach(e=>{e.classList.add(\"primaryColor\")})},p=()=>{r.current.querySelectorAll(\".highlight\").forEach(e=>{e.classList.remove(\"primaryColor\")})};Object(n.useEffect)(()=>{d(Object(h.a)(i))},[a.id]),Object(n.useEffect)(()=>(c.current.addEventListener(\"mouseenter\",b),c.current.addEventListener(\"mouseleave\",p),()=>{c.current.removeEventListener(\"mouseenter\",b),c.current.removeEventListener(\"mouseleave\",p)}),[]);const E=Object(n.useRef)(),v=me(),g=(e,a)=>{t(Object(m.e)(s,\"shared\",!a))},f=Object(n.useMemo)(()=>{if(!a.attachmentRelations||!a.attachmentRelations.length)return l.a.createElement(I.a,null,\"No attachments\");const e=\"Tutors and enrolled students\"===a.access||\"Tutors only\"===a.access;return l.a.createElement(\"div\",{className:a.attachmentRelations.length>1?v.attachments:\"d-flex\"},Object.keys(i).map(t=>{const n=i[t],s=n.map(e=>e.entityId),r=(n.map(e=>e.relatedContacts.map(e=>e.name)),n.slice(0,4)),c=r.length,o=n.length,m=o-c;return l.a.createElement(\"div\",{key:t},l.a.createElement(I.a,{component:\"div\"},`${o} ${t.capitalize()}${o>1?\"s\"===t[t.length-1]?\"es\":\"s\":\"\"} `,l.a.createElement(q.a,{color:\"secondary\",className:v.linkButton,onClick:()=>((e,t)=>Object(oe.a)(`/${\"CourseClass\"===e?\"class\":e.toLowerCase()}/?search=id in (${t})`))(t,s)},l.a.createElement(Q.a,{fontSize:\"inherit\"})),e&&l.a.createElement(q.a,{color:\"secondary\",className:v.linkButton,onClick:()=>((e,t,a)=>{switch(e){case\"CourseClass\":\"Tutors and enrolled students\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>`(student.enrolments.courseClass.id=${e.entityId} OR tutorCourseClass.${e.entityId}=200)`).join(\" and \")),\"Tutors only\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>\"tutorCourseClass.id=\"+e.entityId).join(\" and \"));break;case\"Course\":\"Tutors and enrolled students\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>\"tutorCourseClass.course.id=\"+e.entityId).join(\" and \")),\"Tutors only\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>`(student.enrolments.courseClass.course.id=${e.entityId} OR tutorCourseClass.course.id=${e.entityId})`).join(\" and \"));break;case\"Assessment\":\"Tutors and enrolled students\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>`student.enrolments.courseClass.assessmentClasses.assessment.id=${e.entityId} OR tutorCourseClass.assessmentClasses.assessment.id=${e.entityId}`).join(\" and \")),\"Tutors only\"===t&&Object(oe.a)(\"/contact/?search=\"+a.map(e=>\"tutorCourseClass.assessmentClasses.assessment.id=\"+e.entityId).join(\" and \"));break;default:Object(oe.a)(`/contact/?search=id in (${a.map(e=>e.relatedContacts.map(e=>e.id))})`)}})(t,a.access,n)},l.a.createElement(X.a,{fontSize:\"inherit\",className:\"highlight\"}))),l.a.createElement(I.a,{variant:\"body2\",color:\"textSecondary\",component:\"div\"},r.map((e,t)=>l.a.createElement(\"span\",{key:e.entityId},e.label,t===r.length-1?\"\":\", \")),m?l.a.createElement(\"span\",null,`... and ${m} more`):null))}),1===a.attachmentRelations.length&&l.a.createElement(T.a,{classes:{root:Object(O.a)(\"checkbox\",v.lockCheckbox),label:\"ml-0\"},control:l.a.createElement(ie.b,{checked:!a.shared,onChange:g}),label:\"Attach only to this record\"}))},[a.attachmentRelations,a.shared,a.access]),C=1===a.attachmentRelations.length&&\"Course\"===a.attachmentRelations[0].entity,w=Object(h.g)(a.attachmentRelations),y=Object(n.useMemo)(()=>Object(h.b)(a.access,a.attachmentRelations),[a.access,a.attachmentRelations]),j=[\"Link\",\"Public\"].includes(a.access),x=[\"Tutors and enrolled students\",\"Tutors only\"].includes(a.access);return l.a.createElement(\"div\",{className:\"saveButtonTableOffset\"},l.a.createElement(re.a,{severity:\"info\",className:\"mb-2\",ref:c},l.a.createElement(se.a,null,\"Who can view this document\"),y),l.a.createElement(J.a,{className:\"mb-2\"},l.a.createElement(Y.a,{classes:{title:\"heading\"},avatar:l.a.createElement(G.a,{className:\"activeAvatar\"},l.a.createElement(ee.a,null)),title:\"Attached to\"}),l.a.createElement(K.a,{ref:r},f)),o.PortalSharing&&l.a.createElement(J.a,{className:\"mb-2\"},l.a.createElement(Y.a,{classes:{action:v.action,title:\"heading\"},action:l.a.createElement(T.a,{classes:{root:\"switchWrapper\",label:\"switchLabel\"},control:l.a.createElement($.b,{checked:x,onChange:(e,a)=>{t(Object(m.e)(s,\"access\",a?\"Tutors and enrolled students\":\"Private\"))}}),label:\"Shared in portal\"}),avatar:l.a.createElement(G.a,{className:\"activeAvatar\"},l.a.createElement(te.a,null)),title:\"Skills onCourse\"}),w?l.a.createElement(D.a,{in:x},l.a.createElement(K.a,null,l.a.createElement(I.a,null,\"Shared with\",\" \",a.attachmentRelations[0].relatedContacts.map(e=>e.name),\" \"))):l.a.createElement(l.a.Fragment,null,o[\"Tutor&Student\"]&&l.a.createElement(D.a,{in:x},l.a.createElement(K.a,null,l.a.createElement(T.a,{classes:{root:\"checkbox\",label:\"ml-0\"},control:l.a.createElement(ie.b,{checked:x,onChange:(e,a)=>{t(Object(m.e)(s,\"access\",a?\"Tutors only\":\"Private\"))}}),label:\"Show to tutors\"}),l.a.createElement(T.a,{classes:{root:\"checkbox\"},control:l.a.createElement(ie.b,{checked:\"Tutors and enrolled students\"===a.access,onChange:(e,a)=>{t(Object(m.e)(s,\"access\",a?\"Tutors and enrolled students\":\"Tutors only\"))}}),label:\"Show to students\"}))))),l.a.createElement(J.a,{className:\"mb-2\"},l.a.createElement(Y.a,{classes:{action:v.action,title:\"heading\"},action:l.a.createElement(T.a,{classes:{root:\"switchWrapper\",label:\"switchLabel\"},control:l.a.createElement($.b,{checked:j,onChange:(e,a)=>{t(Object(m.e)(s,\"access\",a?\"Link\":\"Private\"))}}),label:\"Shared by link\"}),avatar:l.a.createElement(G.a,{className:\"activeAvatar\"},l.a.createElement(ae.a,null)),title:\"Shareable link\"}),l.a.createElement(K.a,null,e&&j&&l.a.createElement(\"div\",{className:\"centeredFlex\"},l.a.createElement(I.a,{color:\"textSecondary\",className:\"flex-fill\"},l.a.createElement(\"input\",{ref:E,readOnly:!0,className:v.codeArea,type:\"text\",value:e})),l.a.createElement(u.a,{color:\"primary\",className:\"text-nowrap\",onClick:()=>{E.current.select(),document.execCommand(\"copy\"),E.current.setSelectionRange(0,0),t(Object(ce.ob)({message:\"Link copied\",success:!0}))}},\"Copy Link\")),!j&&l.a.createElement(re.a,{severity:\"warning\",icon:l.a.createElement(ne.a,null)},\"Document can not be accessed by direct link\"))),C&&l.a.createElement(J.a,{className:\"mb-2\"},l.a.createElement(Y.a,{classes:{action:v.action,title:\"heading\"},action:l.a.createElement(T.a,{classes:{root:\"switchWrapper\",label:\"switchLabel\"},control:l.a.createElement($.b,{checked:\"Public\"===a.access,onChange:(e,a)=>{t(Object(m.e)(s,\"access\",a?\"Public\":\"Private\"))}}),label:\"Shared with website visitors\"}),avatar:l.a.createElement(G.a,{className:\"activeAvatar\"},l.a.createElement(le.a,null)),title:\"Website\"})))};j.b.add(x.i,x.j,x.h,x.l,x.k,x.g,x.f,x.e,x.d);const ue=(e,t,a)=>{const{tags:n}=a;return Object(U.a)(n&&n.length>0?n:[],e,t,a)},be=(e,t)=>{e.stopPropagation(),window.open(t)};var he=Object(o.b)(e=>({tags:e.tags.entityTags.Document}),null)(Object(S.a)(e=>Object(N.a)({previewPaper:{width:200,height:200,\"&:hover\":{\"& $viewDocument\":{display:\"flex\"}}},previewPaperExpand:{width:350,height:350},preview:{backgroundSize:\"contain\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"center\"},previewIcon:{padding:25},previewHoverImage:{\"&:hover\":{boxShadow:\"0 0 1px 1px \"+e.palette.primary.main}},wh100:{height:\"30px !important\",width:\"auto !important\"},documentTitle:{margin:\"12px 0 0\"},documentTitleExpandMore:{width:20,height:20},rotateExpandMore:{transform:\"rotate(180deg)\"},viewDocument:{background:\"rgba(0,0,0, 0.5)\",display:\"none\",top:0,left:0,color:\"#ddd\"},rootPanel:{gridTemplateColumns:\"1fr auto\",gridColumnGap:\"8px\"},settingsWrapper:{},divider:{margin:e.spacing(3,-3)},whiteTextColor:{fontSize:12},removedSwitch:{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\",marginBottom:e.spacing(2)}}))(e=>{const{twoColumn:t,values:a,classes:s,tags:r,hovered:c=!0,form:i,dispatch:o,rootEntity:b,manualLink:E,onCloseClick:v,isNew:g,dirty:f,invalid:C}=e,w=Object(n.useRef)(),[j,x]=l.a.useState(!1),[N,S]=l.a.useState(!1),U=Object(h.c)(a),q=Object(h.f)(U.mimeType),G=a&&Array.isArray(a.versions)&&a.versions[0].url,J=a&&Array.isArray(a.versions)&&a.versions[0].thumbnail,K=Object(n.useCallback)(()=>{const e=w.current.files[0];e&&(S(!0),p.a.createDocumentVersion(a.id,e.name,e).then(e=>{o(Object(m.a)(i,\"versions\",0,e)),S(!1)}).catch(e=>{S(!1),console.error(e)}))},[i]),Y=Object(n.useCallback)(()=>{w.current.click()},[]),Z=l.a.createElement(V.a,{name:\"name\",label:\"Name\",type:t?\"headerText\":\"text\",required:!0,fullWidth:!0});return N?l.a.createElement(\"div\",{className:\"centeredFlex w-100 h-100 justify-content-center\"},l.a.createElement(y.a,{size:64,thickness:5,className:s.buttonProgress})):l.a.createElement(\"div\",{className:t?\"appBarContainer\":\"h-100\"},t&&l.a.createElement(M.a,null,l.a.createElement(R.a,{container:!0,className:\"flex-fill\"},l.a.createElement(R.a,{item:!0,xs:6,className:\"pr-2\"},Z)),l.a.createElement(\"div\",null,E&&l.a.createElement(B.a,{created:a?new Date(a.createdOn):null,modified:a?new Date(a.modifiedOn):null,auditsUrl:`audit?search=~\"${b}\" and entityId in (${a?a.id:0})`,manualUrl:E}),l.a.createElement(u.a,{onClick:v,className:\"closeAppBarButton\"},\"Close\"),l.a.createElement(F.a,{disabled:!g&&!f,invalid:C}))),l.a.createElement(R.a,{container:!0,className:\"p-3 relative\"},l.a.createElement(R.a,{item:!0,xs:t?4:12},l.a.createElement(L.a,{className:Object(O.a)(\"relative cursor-pointer\",s.previewPaper)},J?l.a.createElement(\"div\",{style:{backgroundImage:`url(data:image;base64,${J})`},className:Object(O.a)(\"w-100 h-100\",s.preview,{[s.previewHoverImage]:c})}):l.a.createElement(\"div\",{className:Object(O.a)(\"centeredFlex justify-content-center h-100\",s.preview,s.previewIcon,{coloredHover:c})},l.a.createElement(\"div\",{className:\"text-center\"},q({classes:s}),l.a.createElement(\"br\",null),l.a.createElement(I.a,{variant:\"caption\",color:\"textSecondary\",className:\"text-center flex-fill text-truncate\"},\"Click to view\"))),l.a.createElement(\"div\",{className:Object(O.a)(\"absolute w-100 h-100 align-items-center text-center\",s.viewDocument)},l.a.createElement(\"div\",{className:\"flex-fill\"},l.a.createElement(u.a,{variant:\"outlined\",size:\"small\",color:\"inherit\",disabled:!G,onClick:e=>be(e,G)},l.a.createElement(d.a,null),\" \",\"View\")))),l.a.createElement(I.a,{variant:\"caption\",color:\"textSecondary\",className:Object(O.a)(s.documentTitle,\"d-inline-block cursor-pointer text-center flex-fill text-truncate\"),onClick:()=>{x(!j)}},U.fileName,\" \",l.a.createElement(P.a,{className:Object(O.a)(\"d-inline-block vert-align-mid\",s.documentTitleExpandMore,j&&s.rotateExpandMore)})),l.a.createElement(D.a,{in:j,mountOnEnter:!0,unmountOnExit:!0,className:\"mb-0\"},l.a.createElement(I.a,{variant:\"caption\",color:\"textSecondary\"},U.size,l.a.createElement(\"br\",null),\"author:\",\" \",U.createdBy)),l.a.createElement(\"br\",null)),l.a.createElement(R.a,{item:!0,container:!0,xs:t?4:12,alignContent:\"flex-start\"},l.a.createElement(R.a,{item:!0,xs:12},!t&&Z),l.a.createElement(R.a,{item:!0,xs:12},l.a.createElement(k.a,{name:\"tags\",tags:r,component:W.a,validate:r&&r.length?ue:void 0})),l.a.createElement(R.a,{item:!0,xs:12},l.a.createElement(k.a,{name:\"description\",label:\"Description\",component:z.a,multiline:!0,fullWidth:!0})),l.a.createElement(R.a,{item:!0,xs:12,className:\"pb-2\"},l.a.createElement(T.a,{className:\"switchWrapper\",control:l.a.createElement(k.a,{name:\"removed\",component:$.a,color:\"primary\",fullWidth:!0}),label:\"Deleted\"}))),l.a.createElement(R.a,{item:!0,xs:t?4:12,className:\"mb-3\"},l.a.createElement(\"div\",{className:\"heading mb-2\"},\"History\"),l.a.createElement(\"div\",null,Boolean(a.versions)&&a.versions.map(e=>l.a.createElement(\"div\",{key:\"key_\"+e.id||!1},l.a.createElement(\"div\",{className:Object(O.a)(\"d-grid mb-2\",s.rootPanel)},l.a.createElement(\"div\",null,l.a.createElement(I.a,{variant:\"body2\"},Object(A.a)(new Date(e.added),H.r).replace(/\\./g,\"\")),l.a.createElement(I.a,{variant:\"body2\",className:Object(O.a)(\"d-flex align-items-baseline\",s.textInfo)},l.a.createElement(\"span\",null,e.createdBy))),l.a.createElement(\"div\",{className:\"flex-fill\"},l.a.createElement(u.a,{variant:\"outlined\",size:\"small\",color:\"secondary\",disabled:!e.url,onClick:t=>be(t,e.url)},l.a.createElement(d.a,null),\" \",\"View\")))))),l.a.createElement(\"input\",{type:\"file\",ref:w,onChange:K,className:\"d-none\"}),l.a.createElement(u.a,{variant:\"outlined\",size:\"medium\",color:\"secondary\",onClick:Y},\"UPLOAD NEW VERSION\")),l.a.createElement(R.a,{item:!0,xs:t?8:12,className:\"pt-2 pb-2\"},l.a.createElement(de,{validUrl:G,dispatch:o,documentSource:a,form:i}))))}));var pe=n.memo(e=>{const{values:t}=e;return t?n.createElement(he,Object.assign({},e)):null});let Ee={id:null,name:null,createdOn:null,modifiedOn:null,thumbnail:null,versionId:null,access:null,shared:!1,description:null,versions:[],tags:[]};const ve=e=>\"isRemoved is \"+e,ge=[{title:\"CORE FILTER\",filters:[{name:\"Public\",expression:\"webVisibility is PUBLIC and \"+ve(\"false\"),active:!0},{name:\"Private\",expression:\"webVisibility is PRIVATE and \"+ve(\"false\"),active:!0},{name:\"Tutors and enrolled students\",expression:\"webVisibility is STUDENTS and \"+ve(\"false\"),active:!0},{name:\"Tutors\",expression:\"webVisibility is TUTORS and \"+ve(\"false\"),active:!0},{name:\"Deleted\",expression:ve(\"true\"),active:!1}]}],fe=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == Document and entityId\"},{title:\"Courses\",list:\"course\",expression:\"attachmentRelations.entityIdentifier == 'Course' and attachmentRelations.document.id\"},{title:\"Classes\",list:\"class\",expression:\"attachmentRelations.entityIdentifier == 'CourseClass' and attachmentRelations.document.id\"},{title:\"Contacts\",list:\"contact\",expression:\"attachmentRelations.entityIdentifier == 'Contact' and attachmentRelations.document.id\"},{title:\"Enrolments\",list:\"enrolment\",expression:\"attachmentRelations.entityIdentifier == 'Enrolment' and attachmentRelations.document.id\"}],Ce=Object(f.a)(\"documentManagement\"),we=({isRemoved:e})=>\"Yes\"===e?\"op05\":void 0,ye=e=>{const{selection:t,records:a}=e,{rows:n,columns:l}=a;if(!t.length||!n.length||!l.length)return!1;const s=t[0],r=n.find(e=>e.id===s);if(!r||!r.values)return!1;const c=l.filter(e=>!0===e.visible||!0===e.system).findIndex(e=>\"isRemoved\"===e.attribute);let i=!1;return-1!==c&&(i=\"true\"===r.values[c]),i};t.default=Object(o.b)(e=>({fullScreenEditView:e.list.fullScreenEditView}),e=>({onInit:()=>{e(Object(v.W)(Ee)),e(Object(m.h)(C.a,Ee))},getFilters:()=>e(Object(v.P)(\"Document\")),getTags:()=>e(Object(g.q)(\"Document\")),clearListState:()=>e(Object(v.K)()),getDocumentRecord:t=>e(Object(w.j)(t)),onSave:(t,a)=>e(Object(w.l)(t,a)),onCreate:t=>e(Object(w.i)(t)),onDelete:t=>e(Object(w.k)(t)),setFilterGroups:t=>e(Object(v.T)(t)),updateSelection:t=>e(Object(v.fb)(t)),setListCreatingNew:t=>e(Object(v.V)(t)),setListFullScreenEditView:t=>e(Object(v.Z)(t))}))(r()(()=>i()({linkBtnWrapper:{height:\"19px\"},linkBtn:{height:\"100%\",padding:\"0 15px\",marginBottom:\"2px\",lineHeight:\"1\",fontSize:\"inherit\",borderRadius:\"15px\"},openDocIcon:{height:\"90%\",fontSize:\"1.4rem\",paddingRight:\"5px\",maxHeight:\"100%\"}}))(e=>{const{getDocumentRecord:t,onInit:a,onDelete:s,onSave:r,getFilters:c,clearListState:i,getTags:o,onCreate:m,classes:v,setListCreatingNew:g,updateSelection:f,history:C,location:w,match:{params:y,url:O},setListFullScreenEditView:j}=e,[x,k]=l.a.useState(!1),[N,S]=l.a.useState(!1),[R,T]=l.a.useState(!1),[I,L]=l.a.useState(!1),D=l.a.useRef(null),P=(e,t)=>{window.location.origin+e+t!==window.location.href&&C.push({pathname:e,search:t})},A=l.a.useCallback(()=>{P(y.id?O.replace(\"/\"+y.id,\"/new\"):O+\"/new\",w.search),g(!0),f([\"new\"]),a()},[y,w,O]),B=l.a.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault(),S(t),k(t)},[]),V=()=>{null===D.current||R||(T(!0),D.current.addEventListener(\"dragover\",e=>B(e,!0)),D.current.addEventListener(\"dragenter\",e=>B(e,!0)),D.current.addEventListener(\"dragleave\",e=>B(e,!1)))};Object(n.useEffect)(()=>(c(),o(),window.addEventListener(\"dragenter\",e=>B(e,!0)),()=>{i(),window.removeEventListener(\"dragenter\",e=>B(e,!1))}),[]);const $=Object(n.useCallback)(()=>({link:e=>e?l.a.createElement(\"div\",{className:v.linkBtnWrapper},l.a.createElement(u.a,{variant:\"outlined\",size:\"small\",color:\"secondary\",onClick:t=>((e,t)=>{e.stopPropagation(),window.open(t)})(t,e),className:v.linkBtn},l.a.createElement(d.a,{className:v.openDocIcon}),\" \",\"View\")):e}),[v]),z=Object(n.useCallback)(e=>{const t=Object.assign({},e);m(t),L(!1)},[]),F=l.a.useCallback(e=>{e.length&&((e,t)=>{const a=e[0];a&&p.a.searchDocument(a).then(e=>{e?(Ee=e,t()):Object(h.d)(a).then(e=>{Ee=e,t()})})})(e,()=>{A(),S(!1),k(!1),j(!1)})},[y,w,O]),W=l.a.useCallback(()=>{k(!1),S(!1),L(!1),P(O.replace(\"/new\",\"\"),w.search)},[O,w]);return l.a.useEffect(()=>{I||(x?D.current?V():setTimeout(()=>{V()},100):D.current&&(T(!1),D.current.removeEventListener(\"dragover\",e=>B(e,!1)),D.current.removeEventListener(\"dragenter\",e=>B(e,!1)),D.current.removeEventListener(\"dragleave\",e=>B(e,!1))))},[x,I]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,{listProps:{primaryColumn:\"name\",secondaryColumn:\"currentVersion.fileName\",customColumnFormats:$(),setRowClasses:we},editViewProps:{manualLink:Ce,hideFullScreenAppBar:!0},EditViewContent:pe,getEditRecord:t,rootEntity:\"Document\",onInit:a,customOnCreate:()=>{k(!0),S(!0),L(!0)},onCreate:z,onDelete:s,onSave:r,findRelated:fe,filterGroupsInitial:ge,deleteDisabledCondition:ye,noListTags:!0}),l.a.createElement(b.a,{dialog:!0,fileRef:D,opened:x,onChange:F,isBackdropDragging:N,backdropEnabled:N,onClose:W}))}))}}]);","extractedComments":[]}