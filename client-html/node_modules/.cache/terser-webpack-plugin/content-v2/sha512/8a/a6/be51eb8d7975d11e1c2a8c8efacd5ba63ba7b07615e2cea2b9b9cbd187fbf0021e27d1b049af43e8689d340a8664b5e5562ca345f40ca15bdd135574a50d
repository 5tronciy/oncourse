{"map":{"version":3,"sources":["voucherProducts.99-SNAPSHOT.js"],"names":["window","push","2390","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","redux_form__WEBPACK_IMPORTED_MODULE_4__","_common_components_form_nestedList_NestedList__WEBPACK_IMPORTED_MODULE_5__","_actions__WEBPACK_IMPORTED_MODULE_6__","styles","Object","spacing","root","padding","marginBottomTriple","marginBottom","compact","maxWidth","corporatePassToNestedListItem","items","length","map","corpPass","id","toString","entityId","primaryText","contactFullName","secondaryText","link","active","VoucherProductCorporatePasses","[object Object]","super","arguments","this","onAddCorporatePasses","values","dispatch","form","foundCorporatePassItems","path","props","passes","concat","item","find","c","onDeleteCorporatePass","filter","onDeleteAllCorporatePasses","twoColumn","classes","searchCorporatePasses","clearCorporatePasses","pending","title","titleCaption","corporatePassItems","className","formId","searchPlaceholder","searchValues","onSearch","clearSearchResult","onAdd","onDelete","onDeleteAll","sort","a","b","contact","lastName","firstName","searchType","aqlEntity","usePaper","state","quickSearchCorporatePass","search","2391","react","react_default","n","Menu","MenuItem","Typography","IconButton","KeyboardArrowDown","KeyboardArrowDown_default","custom_selector_CustomSelectorHeader","options","caption","selectedIndex","setSelectedIndex","onSelect","disabled","anchorEl","setAnchorEl","useState","handleClickListItem","event","currentTarget","handleMenuItemClick","index","handleClose","createElement","variant","onClick","undefined","color","keepMounted","open","Boolean","onClose","option","key","selected","Field","custom_selector_CustomSelectorBody","type","name","fieldName","component","validate","normalize","format","min","preformatDisplayValue","body","initialIndex","2424","r","es","redux_form_es","actions","Api","voucherProducts_actions","ListView","TabsList","CorporatePassCommon","Grid","api","EditInPlaceField","FormField","validation","numbersNormalizing","CustomSelector","NestedList","EditInPlaceMoneyField","parseFloatValue","value","parseFloat","validateNonNegative","productStatusItems","keys","validateGreaterThenZero","onSelectRedemption","setRedemptionIndex","RedemptionType","Enrollment","Purchase","Value","getInitialRedemptionIndex","isNew","voucher","maxCoursesRedemption","feeExTax","coursesToNestedListItems","courses","course","code","onAddCourses","foundCourses","i","onDeleteAllCourses","onDeleteCourse","validateCourses","sortCourses","toLowerCase","components_VoucherProductGeneral","accounts","liabilityItems","currency","minFee","voucherProducts","maxFee","pendingCourses","searchCourses","clearCourses","getMinMaxFee","ids","submitSucceeded","redemptionIndex","initialRedemptionIndex","formatCurrency","shortCurrencySymbol","preformatCurrency","coursesIds","join","container","xs","label","required","selectValueMark","selectLabelCondition","accountCode","description","noWrap","formatting","hidePlaceholderInEditMode","parse","soldVouchersCount","resetSearch","aqlEntityTags","selectLabelMark","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","VoucherProductEditView_items","assign","_a","rest","components_VoucherProductEditView","access","isNested","dirty","nestedIndex","rootEntity","showConfirm","openNestedEditView","manualLink","corporatePassAccess","checkedItems","itemProps","accounts_actions","getManualLink","common_actions","Config","constants","tags_actions","Initial","corporatePasses","expiryDays","liabilityAccountId","status","VoucherProducts_manualLink","filterGroups","filters","expression","findRelatedGroup","list","updatingAccounts","updatingLiabilityItems","preferences","userPreferences","onInit","initial","getTagsForClassesSearch","getFilters","getAccounts","getDefaultLiabilityAccount","clearListState","getVoucherProductRecord","onSave","voucherProduct","onCreate","checkPermissions","method","initNew","setInitNew","defaultId","account","Number","listProps","primaryColumn","secondaryColumn","editViewProps","EditViewContent","getEditRecord","findRelated","filterGroupsInitial","defaultDeleteDisabled","noListTags"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{2390:function(e,t,a){\"use strict\";var s=a(0),n=a(196),o=a(17),c=a(10),r=a(1),i=a(485),l=a(350);const u=Object(n.a)(({spacing:e})=>({root:{padding:e(3)},marginBottomTriple:{marginBottom:e(3)},compact:{marginBottom:e(2),maxWidth:e(50)}})),d=e=>e&&e.length>0?e.map(e=>({id:e.id.toString(),entityId:e.id,primaryText:e.contactFullName,secondaryText:\"\",link:\"/corporatePass/\"+e.id,active:!0})):[];class m extends s.PureComponent{constructor(){super(...arguments),this.onAddCorporatePasses=e=>{const{values:t,dispatch:a,form:s,foundCorporatePassItems:n,path:o}=this.props,c=t[o].concat(e.map(e=>n.find(t=>e.id===t.id)));a(Object(r.e)(s,o,c))},this.onDeleteCorporatePass=e=>{const{values:t,dispatch:a,form:s,path:n}=this.props,o=t[n].filter(t=>e.entityId!==t.id);a(Object(r.e)(s,n,o))},this.onDeleteAllCorporatePasses=()=>{const{dispatch:e,form:t,path:a}=this.props;e(Object(r.e)(t,a,[]))}}render(){const{twoColumn:e,classes:t,values:a,foundCorporatePassItems:n,searchCorporatePasses:o,clearCorporatePasses:c,pending:r,title:l=\"CORPORATE PASS\",titleCaption:u,path:m}=this.props,p=a&&a[m]?d(a[m]):[];return s.createElement(\"div\",{className:t.root},s.createElement(\"div\",{className:e?t.compact:t.marginBottomTriple},s.createElement(i.a,{formId:a.id,title:l,titleCaption:u,searchPlaceholder:\"Add corporate pass\",values:p,searchValues:n?d(n):[],onSearch:o,clearSearchResult:c,pending:r,onAdd:this.onAddCorporatePasses,onDelete:this.onDeleteCorporatePass,onDeleteAll:this.onDeleteAllCorporatePasses,sort:(e,t)=>`${e.contact.lastName},${e.contact.firstName}`>`${t.contact.lastName},${t.contact.firstName}`?1:-1,searchType:\"withToggle\",aqlEntity:\"CorporatePass\",usePaper:!0})))}}t.a=Object(c.b)(e=>({foundCorporatePassItems:e.quickSearchCorporatePass.items,pending:e.quickSearchCorporatePass.pending}),e=>({searchCorporatePasses:t=>e(Object(l.k)(t)),clearCorporatePasses:t=>e(Object(l.i)(t))}))(Object(o.a)(u)(m))},2391:function(e,t,a){\"use strict\";var s=a(0),n=a.n(s),o=a(1006),c=a(435),r=a(62),i=a(172),l=a(1027),u=a.n(l);var d=({className:e,options:t,caption:a,selectedIndex:l,setSelectedIndex:d,onSelect:m,disabled:p})=>{const[b,h]=n.a.useState(null),f=Object(s.useCallback)(e=>{h(e.currentTarget)},[]),y=Object(s.useCallback)((e,t)=>{h(null),d(t),m(t)},[m,d]),v=Object(s.useCallback)(()=>{h(null)},[]);return n.a.createElement(\"div\",{className:e},n.a.createElement(r.a,{variant:\"caption\"},a),\" \",n.a.createElement(r.a,{variant:\"caption\",className:\"d-inline-flex-center cursor-pointer text-bold\",onClick:p?void 0:f,color:p?\"textSecondary\":\"initial\"},t[l].caption,\" \",n.a.createElement(i.a,{className:\"p-0\",disabled:p},n.a.createElement(u.a,null))),n.a.createElement(o.a,{id:\"lock-menu\",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:v},t.map((e,t)=>n.a.createElement(c.a,{key:e.caption,selected:t===l,onClick:e=>y(e,t)},e.caption))))},m=a(998);var p=({className:e,options:t,selectedIndex:a})=>{const s=t[a];return n.a.createElement(\"div\",{className:e},s.type&&n.a.createElement(r.a,null,n.a.createElement(m.a,{name:s.fieldName,component:s.component,type:s.type,validate:s.validate,normalize:s.normalize,format:s.format,min:s.min,preformatDisplayValue:s.preformatDisplayValue}),s.type&&\"date\"!==s.type&&\" \"+s.body))};t.a=({className:e,caption:t,options:a,onSelect:o,initialIndex:c,disabled:r})=>{const[i,l]=n.a.useState(0);return Object(s.useEffect)(()=>{l(c)},[c]),n.a.createElement(\"div\",{className:e},n.a.createElement(d,{options:a,selectedIndex:i,setSelectedIndex:l,caption:t,onSelect:o,disabled:r}),n.a.createElement(p,{options:a,selectedIndex:i}))}},2424:function(e,t,a){\"use strict\";a.r(t);var s=a(0),n=a.n(s),o=a(10),c=a(1),r=a(8),i=a(348),l=a(141),u=a(347),d=a(484),m=a(2390),p=a(225),b=a(62),h=a(12),f=a(110),y=a(5),v=a(26),C=a(24),E=a(2391),O=a(485),j=a(407);const g=e=>e?parseFloat(e):e,P=e=>e<0?\"Must be non negative\":void 0,x=Object.keys(h.cc).map(e=>({value:e})),I=e=>e>0?void 0:\"Must be greater then 0\",S=(e,t)=>a=>{const{form:s,dispatch:n}=e;t(a),a===N.Enrollment?n(Object(c.e)(s,\"value\",null)):a===N.Purchase?(n(Object(l.q)()),n(Object(c.e)(s,\"courses\",[])),n(Object(c.e)(s,\"value\",null)),n(Object(c.e)(s,\"maxCoursesRedemption\",null)),n(Object(c.e)(s,\"feeExTax\",null))):a===N.Value&&(n(Object(l.q)()),n(Object(c.e)(s,\"courses\",[])),n(Object(c.e)(s,\"maxCoursesRedemption\",null)))};var N;!function(e){e[e.Enrollment=0]=\"Enrollment\",e[e.Purchase=1]=\"Purchase\",e[e.Value=2]=\"Value\"}(N||(N={}));const w=(e,t)=>e||!t||null!=t.maxCoursesRedemption?N.Enrollment:null!=t.feeExTax?N.Value:N.Purchase,k=e=>e.map(e=>({id:e.id.toString(),entityId:e.id,primaryText:e.name,secondaryText:e.code,link:\"/course/\"+e.id,active:!0})),T=e=>t=>{const{values:a,dispatch:s,form:n,foundCourses:o}=e,r=[].concat(a.courses,t.map(e=>o.find(t=>e.entityId===t.id)));s(Object(c.e)(n,\"courses\",r))},A=e=>()=>{const{dispatch:t,form:a}=e;t(Object(c.e)(a,\"courses\",[]))},V=e=>t=>{const{dispatch:a,form:s,values:n}=e,o=n.courses.filter(e=>e.id!==t.entityId);a(Object(c.e)(s,\"courses\",o))},D=e=>e&&0===e.length?\"At least one course must be added\":void 0,F=(e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1;var L=Object(o.b)(e=>({accounts:e.accounts.liabilityItems,currency:e.currency,minFee:e.voucherProducts.minFee,maxFee:e.voucherProducts.maxFee,foundCourses:e.voucherProducts.foundCourses,pendingCourses:e.voucherProducts.pendingCourses}),e=>({searchCourses:t=>e(Object(l.w)(t)),clearCourses:t=>e(Object(l.r)(t)),getMinMaxFee:t=>e(Object(l.t)(t))}))(e=>{const{twoColumn:t,accounts:a,currency:o,values:c,isNew:r,minFee:i,maxFee:u,searchCourses:d,clearCourses:m,foundCourses:h,pendingCourses:L,submitSucceeded:R,getMinMaxFee:q,dispatch:M}=e,[$,B]=Object(s.useState)(null),G=w(r,c);null===$&&B(G);const W=(e=>t=>Object(C.a)(t,e?e.shortCurrencySymbol:\"$\"))(o),z=c&&c.id,J=c&&c.courses&&c.courses.map(e=>e.id).sort((e,t)=>e<t?-1:e>t?1:0).join(\",\");return Object(s.useEffect)(()=>{c&&B(w(r,c))},[z]),Object(s.useEffect)(()=>{c&&(c.courses&&c.courses.length>0?q(J):M(Object(l.q)()))},[J]),n.a.createElement(\"div\",{className:\"generalRoot\"},n.a.createElement(\"div\",{className:\"pt-1\"},n.a.createElement(p.a,{container:!0},n.a.createElement(p.a,{item:!0,xs:t?2:6},n.a.createElement(y.a,{type:\"text\",name:\"name\",label:\"Name\",required:!0})),n.a.createElement(p.a,{item:!0,xs:t?2:6},n.a.createElement(y.a,{type:\"text\",name:\"code\",label:\"SKU\",required:!0})))),n.a.createElement(\"div\",{className:\"mr-2\"},n.a.createElement(y.a,{type:\"select\",name:\"liabilityAccountId\",label:\"Liability account\",validate:e=>a.find(t=>t.id===e)?void 0:\"Mandatory field\",items:a,selectValueMark:\"id\",selectLabelCondition:e=>`${e.accountCode}, ${e.description}`})),n.a.createElement(b.a,{color:\"inherit\",component:\"div\",noWrap:!0},\"Expires\",n.a.createElement(y.a,{type:\"number\",name:\"expiryDays\",color:\"primary\",formatting:\"inline\",hidePlaceholderInEditMode:!0,validate:[v.t,P],parse:g}),\"days after purchase\"),n.a.createElement(\"div\",{className:\"pt-2\"},n.a.createElement(\"div\",{className:\"mb-2\"},n.a.createElement(E.a,{caption:\"Can be redeemed for\",options:[{caption:\"enrolment in\",body:\"classes from\",type:\"number\",component:f.a,fieldName:\"maxCoursesRedemption\",validate:[P,I]},{caption:\"purchase price\",body:\"\",type:null},{caption:\"value\",body:\"\",type:\"string\",fieldName:\"value\",component:j.a,validate:I}],onSelect:S(e,B),initialIndex:null===$?G:$,disabled:c&&c.soldVouchersCount>0}))),$===N.Enrollment&&n.a.createElement(\"div\",{className:\"pb-2\"},n.a.createElement(\"div\",{className:t?\"mb-2 mw-800\":\"mb-2\"},n.a.createElement(O.a,{formId:c.id,title:\"Courses\",name:\"courses\",searchPlaceholder:\"Find course\",validate:D,values:k(c.courses),searchValues:k(h),onSearch:d,clearSearchResult:m,pending:L,onAdd:T(e),onDelete:V(e),onDeleteAll:A(e),sort:F,resetSearch:R,searchType:\"withToggle\",disabled:c&&c.soldVouchersCount>0,aqlEntity:\"Course\",aqlEntityTags:[\"Course\"]})),n.a.createElement(b.a,{color:\"inherit\",component:\"div\"},\"Current class fee price range:\",\" \",n.a.createElement(\"span\",{className:\"money\"},W(i)),\" \",\"to\",\" \",n.a.createElement(\"span\",{className:\"money\"},W(u)))),$!==N.Purchase&&n.a.createElement(y.a,{type:\"money\",name:\"feeExTax\",validate:[v.t,P],label:\"Voucher price\"}),n.a.createElement(y.a,{type:\"select\",name:\"status\",label:\"Status\",items:x,selectLabelMark:\"value\"}),n.a.createElement(y.a,{type:\"multilineText\",name:\"description\",label:\"Web description\"}))}),R=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a};const q=[{label:\"General\",component:e=>n.a.createElement(L,Object.assign({},e))},{label:\"Corporate passes\",component:e=>{var{classes:t}=e,a=R(e,[\"classes\"]);return n.a.createElement(m.a,Object.assign({path:\"corporatePasses\",titleCaption:\"Corporate Pass which can be used to purchase this voucher\"},a))}}];var M=Object(o.b)(e=>({access:e.access}),null)(e=>{const{values:t,isNew:a,isNested:s,dispatch:o,dirty:c,form:r,nestedIndex:l,rootEntity:u,twoColumn:m,showConfirm:p,openNestedEditView:b,manualLink:h,accounts:f,access:y}=e,v=y[i.e]&&y[i.e].GET,C=q.filter(e=>\"Corporate passes\"!==e.label||v);return n.a.createElement(d.a,{items:t?C:[],itemProps:{values:t,isNew:a,isNested:s,dispatch:o,dirty:c,form:r,nestedIndex:l,rootEntity:u,twoColumn:m,showConfirm:p,openNestedEditView:b,manualLink:h,accounts:f}})}),$=a(131),B=a(68),G=a(3),W=a(29),z=a(11),J=a(88);const K={code:null,corporatePasses:[],courses:[],description:null,expiryDays:365,feeExTax:0,liabilityAccountId:null,maxCoursesRedemption:null,name:null,status:\"Can be purchased in office & online\",value:0},U=Object(B.a)(\"vouchers\"),H=[{title:\"CORE FILTER\",filters:[{name:\"Active\",expression:\"isOnSale == true\",active:!0},{name:\"Inactive\",expression:\"isOnSale == false\",active:!1}]}],Q=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == VoucherProduct and entityId\"},{title:\"Contacts purchased\",list:\"contact\",expression:\"invoices.invoiceLines.productItems.product.id\"},{title:\"Courses\",list:\"course\",expression:\"voucherProductCourses.voucherProduct.id\"},{title:\"Vouchers\",list:\"sale\",expression:\"product.id\"}];t.default=Object(o.b)(e=>({updatingAccounts:e.accounts.updatingLiabilityItems,accounts:e.accounts.liabilityItems,preferences:e.userPreferences}),e=>({onInit:t=>{e(Object(r.W)(t)),e(Object(c.h)(z.a,t))},getTagsForClassesSearch:()=>{e(Object(J.q)(\"Course\"))},getFilters:()=>e(Object(r.P)(\"VoucherProduct\")),getAccounts:()=>e(Object($.n)()),getDefaultLiabilityAccount:()=>e(Object(G.gb)([W.b])),clearListState:()=>e(Object(r.K)()),getVoucherProductRecord:t=>e(Object(l.v)(t)),onSave:(t,a)=>e(Object(l.y)(t,a)),onCreate:t=>e(Object(l.s)(t)),checkPermissions:()=>e(Object(G.U)({path:i.e,method:\"GET\"}))}))(e=>{const{getVoucherProductRecord:t,onInit:a,onCreate:o,onSave:c,getFilters:r,clearListState:i,getDefaultLiabilityAccount:l,getTagsForClassesSearch:d,getAccounts:m,updatingAccounts:p,preferences:b,accounts:h,checkPermissions:f}=e,[y,v]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{if(y&&h&&b&&b[W.b]){v(!1);const e=b[W.b],t=h.find(t=>t.id===Number(e));a(t?Object.assign(Object.assign({},K),{liabilityAccountId:t.id}):K)}},[y,p,b]),Object(s.useEffect)(()=>(l(),m(),r(),d(),f(),()=>{i()}),[]),n.a.createElement(\"div\",null,n.a.createElement(u.b,{listProps:{primaryColumn:\"name\",secondaryColumn:\"sku\"},editViewProps:{manualLink:U},EditViewContent:M,getEditRecord:t,rootEntity:\"VoucherProduct\",aqlEntity:\"Product\",onInit:()=>v(!0),onCreate:o,onSave:c,findRelated:Q,filterGroupsInitial:H,defaultDeleteDisabled:!0,noListTags:!0}))})}}]);","extractedComments":[]}