{"map":{"version":3,"sources":["waitingLists.99-SNAPSHOT.js"],"names":["window","push","2410","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","es","redux_form_es","ListView","SendMessageEditView","TabsList","FormField","validateTagsList","actions","courses_actions","CustomFieldsTypes","ContactSelectItemRenderer","CourseItemRenderer","utils","FieldAdornments","contacts_utils","WaitingListGeneral_WaitingListGeneral","[object Object]","super","arguments","this","validateTagList","value","allValues","props","tags","Object","setContactsSearch","clearContactsSearch","values","contacts","getContacts","contactsLoading","contactsRowsCount","courses","setCoursesSearch","getCourses","coursesLoading","coursesRowsCount","dispatch","form","clearContacts","clearCourses","className","type","name","label","selectValueMark","selectLabelCondition","defaultDisplayValue","studentName","labelAdornment","linkHandler","link","contactId","disabled","items","onSearchChange","onLoadMoreRows","onClearRows","loading","remoteRowCount","itemRenderer","rowHeight","required","validate","length","undefined","selectLabelMark","selectFilterCondition","courseName","courseId","entityName","fieldName","entityValues","components_WaitingListGeneral","state","entityTags","contactsSearch","search","rowsCount","coursesSearch","offset","components_WaitingListNotes","fullWidth","Grid","NestedList","sites_actions","WaitingListSites_WaitingListSites","sitesToNestedListItems","sites","map","site","id","toString","entityId","primaryText","secondaryText","suburb","postcode","active","onAddSite","foundQuickSearchSites","updated","concat","item","find","onDeleteSite","filter","onDeleteAllSites","pendingQuickSearchSites","getQuickSearchSites","submitSucceeded","twoColumn","clearSites","container","xs","formId","title","searchPlaceholder","searchValues","pending","onAdd","onDelete","onDeleteAll","onSearch","clearSearchResult","sort","a","b","toLowerCase","resetSearch","aqlEntity","aqlEntityTags","usePaper","components_WaitingListSites","WaitingListEditView_items","component","assign","WaitingListEditView_WaitingListEditView","isNew","isNested","classes","dirty","nestedIndex","rootEntity","showConfirm","openNestedEditView","manualLink","itemProps","components_WaitingListEditView","list_view_actions","tags_actions","waitingLists_actions","getManualLink","customFieldTypes_actions","MenuItem","WaitingListCogWheel","selection","menuItemClass","hasQePermissions","hoSelectedOrNew","onQuickEnrolment","open","createElement","Fragment","onClick","components_WaitingListCogWheel","list","searchQuery","access","constants","common_actions","Initial","privateNotes","studentNotes","studentCount","customFields","findRelatedGroup","expression","nestedEditFields","SendMessage","WaitingLists_manualLink","nameCondition","WaitingLists_WaitingLists","initializingNew","onInit","getCustomFieldTypes","getTags","getFilters","getQePermissions","getTagsForSitesSearch","clearListState","prev","customFieldTypesUpdating","customFieldTypes","initial","getWaitingListRecord","onCreate","onSave","updateTableModel","listProps","primaryColumn","secondaryColumn","editViewProps","EditViewContent","getEditRecord","findRelated","CogwheelAdornment","updating","types","keyCode","waitingList"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{2410:function(e,t,s){\"use strict\";s.r(t);var n=s(0),i=s.n(n),a=s(10),o=s(1),c=s(347),r=s(751),l=s(484),d=s(5),u=s(486),m=s(28),p=s(97),h=s(584),g=s(398),b=s(753),C=s(604),S=s(116),E=s(43);class w extends n.PureComponent{constructor(){super(...arguments),this.validateTagList=(e,t,s)=>{const{tags:n}=this.props;return Object(u.a)(n,e,t,s)}}componentDidMount(){const{setContactsSearch:e}=this.props;e()}componentWillUnmount(){this.props.clearContactsSearch()}render(){const{values:e,tags:t,contacts:s,setContactsSearch:i,getContacts:a,contactsLoading:o,contactsRowsCount:c,courses:r,setCoursesSearch:l,getCourses:u,coursesLoading:m,coursesRowsCount:p,dispatch:w,form:O,clearContacts:j,clearCourses:y}=this.props;return n.createElement(\"div\",{className:\"generalRoot\"},n.createElement(\"div\",{className:\"pt-2\"},n.createElement(d.a,{type:\"remoteDataSearchSelect\",name:\"contactId\",label:\"Student\",selectValueMark:\"id\",selectLabelCondition:E.b,defaultDisplayValue:e&&Object(E.e)(e.studentName),labelAdornment:n.createElement(S.a,{linkHandler:E.j,link:e.contactId,disabled:!e.contactId}),items:s||[],onSearchChange:i,onLoadMoreRows:a,onClearRows:j,loading:o,remoteRowCount:c,itemRenderer:g.a,rowHeight:55,required:!0})),n.createElement(\"div\",null,n.createElement(d.a,{type:\"tags\",name:\"tags\",tags:t,validate:t&&t.length?this.validateTagList:void 0})),n.createElement(d.a,{type:\"number\",name:\"studentCount\",label:\"Number of students\"}),n.createElement(d.a,{type:\"remoteDataSearchSelect\",name:\"courseId\",label:\"Course\",selectValueMark:\"id\",selectLabelMark:\"name\",selectFilterCondition:C.a,defaultDisplayValue:e&&e.courseName,labelAdornment:n.createElement(S.a,{link:e.courseId,linkHandler:C.b}),items:r||[],onSearchChange:l,onLoadMoreRows:u,loading:m,onClearRows:y,remoteRowCount:p,itemRenderer:b.a,rowHeight:55,required:!0}),n.createElement(h.a,{entityName:\"WaitingList\",fieldName:\"customFields\",entityValues:e,dispatch:w,form:O}))}}var O=Object(a.b)(e=>({tags:e.tags.entityTags.WaitingList,contacts:e.contacts.items,contactsSearch:e.contacts.search,contactsLoading:e.contacts.loading,contactsRowsCount:e.contacts.rowsCount,courses:e.courses.items,coursesSearch:e.courses.search,coursesLoading:e.courses.loading,coursesRowsCount:e.courses.rowsCount}),e=>({getContacts:t=>e(Object(m.X)(t,null,!0)),clearContacts:()=>e(Object(m.L)()),setContactsSearch:t=>e(Object(m.fb)(t)),clearContactsSearch:()=>e(Object(m.M)()),getCourses:t=>e(Object(p.o)(t,\"code,name\",!0)),clearCourses:()=>e(Object(p.p)([])),setCoursesSearch:t=>e(Object(p.q)(`~\"${t}\" and allowWaitingLists is true`))}))(w);var j=()=>n.createElement(\"div\",{className:\"pl-3 saveButtonTableOffset\"},n.createElement(\"div\",{className:\"centeredFlex\"},n.createElement(\"div\",{className:\"heading pb-1\"},\"Notes\")),n.createElement(\"div\",null,n.createElement(d.a,{type:\"multilineText\",name:\"studentNotes\",disabled:!0,label:\"Student notes\",fullWidth:!0})),n.createElement(d.a,{type:\"multilineText\",name:\"privateNotes\",label:\"Private notes\",fullWidth:!0})),y=s(225),L=s(485),N=s(104);class v extends n.PureComponent{constructor(){super(...arguments),this.sitesToNestedListItems=e=>e.map(e=>({id:e.id.toString(),entityId:e.id,primaryText:e.name,secondaryText:`${e.suburb?e.suburb+\", \":\"\"} ${e.postcode?e.postcode:\"\"}`,link:\"/site/\"+e.id,active:!0})),this.onAddSite=e=>{const{dispatch:t,form:s,values:n,foundQuickSearchSites:i}=this.props,a=(n.sites?n.sites:[]).concat(e.map(e=>i.find(t=>t.id===e.entityId)));t(Object(o.e)(s,\"sites\",a))},this.onDeleteSite=e=>{const{dispatch:t,form:s,values:n}=this.props;t(Object(o.e)(s,\"sites\",n.sites.filter(t=>t.id!==e.entityId)))},this.onDeleteAllSites=()=>{const{dispatch:e,form:t}=this.props;e(Object(o.e)(t,\"sites\",[]))}}render(){const{foundQuickSearchSites:e,pendingQuickSearchSites:t,getQuickSearchSites:s,submitSucceeded:i,twoColumn:a,values:o,clearSites:c}=this.props;return n.createElement(y.a,{container:!0,className:\"pl-3 pr-3 pb-2\"},n.createElement(y.a,{item:!0,xs:a?6:12},n.createElement(L.a,{formId:o&&o.id,title:\"Sites\",searchPlaceholder:\"Find sites\",values:o&&o.sites?this.sitesToNestedListItems(o.sites):[],searchValues:e?this.sitesToNestedListItems(e):[],pending:t,onAdd:this.onAddSite,onDelete:this.onDeleteSite,onDeleteAll:this.onDeleteAllSites,onSearch:s,clearSearchResult:c,sort:(e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0,resetSearch:i,aqlEntity:\"Site\",aqlEntityTags:[\"Site\"],usePaper:!0})))}}var T=Object(a.b)(e=>({foundQuickSearchSites:e.sites.items,pendingQuickSearchSites:e.sites.loading}),e=>({getQuickSearchSites:t=>e(Object(N.s)(null,\"name,suburb,postcode\",null,null,t)),clearSites:t=>e(Object(N.v)([]))}))(v);const f=[{label:\"General\",component:e=>n.createElement(O,Object.assign({},e))},{label:\"Sites\",component:e=>n.createElement(T,Object.assign({},e))},{label:\"Notes\",component:e=>n.createElement(j,Object.assign({},e))}];class k extends n.Component{render(){const{values:e,isNew:t,isNested:s,classes:i,dispatch:a,dirty:o,form:c,nestedIndex:r,rootEntity:d,twoColumn:u,showConfirm:m,openNestedEditView:p,manualLink:h}=this.props;return e?n.createElement(l.a,{items:f,itemProps:{isNew:t,isNested:s,values:e,classes:i,dispatch:a,dirty:o,form:c,nestedIndex:r,rootEntity:d,twoColumn:u,showConfirm:m,openNestedEditView:p,manualLink:h}}):null}}var I=k,F=s(8),R=s(88),W=s(339),D=s(68),x=s(298),M=s(435);const P=Object(n.memo)(e=>{const{selection:t,menuItemClass:s,hasQePermissions:a}=e,o=Object(n.useMemo)(()=>0===t.length||\"NEW\"===t[0],[t]),c=Object(n.useCallback)(()=>{window.open(\"/checkout?waitingListIds=\"+t.toString(),\"_self\")},[t]);return i.a.createElement(i.a.Fragment,null,o?null:i.a.createElement(M.a,{className:s,onClick:c,disabled:!a},\"Enrol\",\" \",t.length,\" \",\"highlighted student\",t.length>1&&\"s\"))});var A=Object(a.b)(e=>({search:e.list.searchQuery,hasQePermissions:e.access.ENROLMENT_CREATE}),null)(P),Q=s(11),V=s(3);const U={id:null,privateNotes:null,studentNotes:null,studentCount:1,tags:[],sites:[],customFields:{}},q=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == WaitingList and entityId\"},{title:\"Contacts\",list:\"contact\",expression:\"student.waitingLists.id\"}],z={SendMessage:e=>n.createElement(r.a,Object.assign({},e))},H=Object(D.a)(\"waitingLists\"),$=e=>e.courseName;class _ extends n.Component{constructor(){super(...arguments),this.initializingNew=!1,this.onInit=()=>{this.initializingNew=!0,this.props.getCustomFieldTypes()}}componentDidMount(){this.props.getTags(),this.props.getFilters(),this.props.getQePermissions(),this.props.getCustomFieldTypes(),this.props.getTagsForSitesSearch()}componentWillUnmount(){this.props.clearListState()}componentDidUpdate(e){const{customFieldTypesUpdating:t,customFieldTypes:s}=this.props;if(this.initializingNew&&e.customFieldTypesUpdating&&!t){this.initializingNew=!1;const e={},t=Object.assign(Object.assign({},U),{customFields:e});this.props.onInit(t)}}render(){const{getWaitingListRecord:e,onCreate:t,onDelete:s,onSave:i,updateTableModel:a}=this.props;return n.createElement(\"div\",null,n.createElement(c.b,{listProps:{primaryColumn:\"student.contact.fullName\",secondaryColumn:\"course.name\"},editViewProps:{manualLink:H,nameCondition:$},updateTableModel:a,nestedEditFields:z,EditViewContent:I,getEditRecord:e,rootEntity:\"WaitingList\",onInit:this.onInit,onCreate:t,onDelete:s,onSave:i,findRelated:q,CogwheelAdornment:A}))}}t.default=Object(a.b)(e=>({customFieldTypesUpdating:e.customFieldTypes.updating,customFieldTypes:e.customFieldTypes.types.WaitingList}),e=>({onInit:t=>{e(Object(F.W)(t)),e(Object(o.h)(Q.a,t))},getQePermissions:()=>{e(Object(V.U)({keyCode:\"ENROLMENT_CREATE\"}))},getTagsForSitesSearch:()=>{e(Object(R.q)(\"Site\"))},getCustomFieldTypes:()=>e(Object(x.c)(\"WaitingList\")),getFilters:()=>e(Object(F.P)(\"WaitingList\")),getTags:()=>e(Object(R.r)(\"WaitingList\")),clearListState:()=>e(Object(F.K)()),getWaitingListRecord:t=>e(Object(W.j)(t)),onSave:(t,s)=>e(Object(W.l)(t,s)),onCreate:t=>e(Object(W.i)(t)),onDelete:t=>e(Object(W.k)(t))}))(_)}}]);","extractedComments":[]}