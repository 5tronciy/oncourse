{"map":{"version":3,"sources":["transactions.SNAPSHOT.js"],"names":["window","push","2432","module","__webpack_exports__","__webpack_require__","r","react","es","redux_form_es","ListView","actions","Grid","FormField","validation","validateAmountField","value","split","join","trim","undefined","components_TransactionsEditView","Object","state","accounts","items","props","twoColumn","isNew","hasAccounts","length","formattedAccounts","formattedAccount","forEach","acc","id","label","description","accountCode","getFormattedAccounts","container","className","item","lg","md","xs","type","disabled","name","validate","fullWidth","list_view_actions","accounts_actions","constants","primaryColumnCondition","rows","secondaryColumnCondition","filterGroups","title","filters","expression","active","Initial","fromAccount","toAccount","amount","transactionDate","findRelatedGroup","list","Transactions_Transactions","[object Object]","super","arguments","this","onInit","dispatch","Date","toISOString","getTransactionAccountName","account","find","getAccounts","getFilters","clearListState","onCreate","getTransactionRecord","updateTableModel","listProps","primaryColumn","secondaryColumn","EditViewContent","getEditRecord","rootEntity","editViewProps","nameCondition","onDelete","onSave","findRelated","filterGroupsInitial","defaultDeleteDisabled","noListTags","currency","transaction"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{2432:function(t,e,n){\"use strict\";n.r(e);var a=n(0),o=n(10),c=n(1),i=n(347),s=n(794),r=n(225),l=n(5),u=n(26);const d=t=>{switch(typeof t){case\"string\":return t.split(\"0\").join(\"\").trim()?void 0:\"Amount has to be specified\";case\"number\":return 0!==t?void 0:\"Amount has to be specified\";case\"boolean\":return;default:return t?void 0:\"Amount has to be specified\"}};var m=Object(o.b)(t=>({accounts:t.accounts.items}),null)(t=>{const{twoColumn:e,accounts:n,isNew:o}=t,c=n&&0!==n.length,i=n?(t=>{const e=[];return t.forEach(t=>{e.push({value:t.id,label:`${t.description} ${t.accountCode}`})}),e})(n):[];return a.createElement(r.a,{container:!0,className:\"p-3\"},a.createElement(r.a,{item:!0,lg:e?6:12,md:e?8:12,xs:12},a.createElement(r.a,{container:!0},a.createElement(r.a,{item:!0,xs:e?6:12},a.createElement(l.a,{type:\"select\",disabled:!o||!c,name:\"fromAccount\",label:o?\"From account\":\"Account\",validate:o?u.t:void 0,items:i||[],fullWidth:!0}),o?a.createElement(l.a,{type:\"select\",disabled:!c,name:\"toAccount\",label:\"To account\",validate:o?u.t:void 0,items:i||[],fullWidth:!0}):null,a.createElement(l.a,{type:\"money\",disabled:!o,name:\"amount\",label:\"Amount\",validate:o?d:void 0,fullWidth:!0}),a.createElement(l.a,{type:\"date\",disabled:!o,name:\"transactionDate\",label:\"Transaction date\",validate:o?u.t:void 0,fullWidth:!0})))))}),p=n(8),b=n(131),h=n(11);const f=t=>`${t.transactionDate}  ${t.amount}`,v=t=>`${t[\"account.description\"]} ${t[\"account.accountCode\"]}`,y=[{title:\"CORE FILTER\",filters:[{name:\"Invoices\",expression:\"tableName == 'I'\",active:!0},{name:\"Payments\",expression:\"tableName == 'P' or tableName == 'O'\",active:!0},{name:\"Other\",expression:\"tableName != 'O' and tableName != 'P' and tableName != 'I'\",active:!1}]}],A={fromAccount:null,toAccount:null,amount:null,transactionDate:null},C=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == AccountTransaction and entityId\"},{title:\"Contacts\",list:\"contact\",expression:\"accountTransactions.id\"},{title:\"Invoices\",list:\"invoice\",expression:\"accountTransactions.id\"},{title:\"Payment In\",list:\"paymentIn\",expression:\"accountTransactions.id\"},{title:\"Payment Out\",list:\"paymentOut\",expression:\"accountTransactions.id\"}];class T extends a.Component{constructor(){super(...arguments),this.onInit=()=>{const{dispatch:t,accounts:e}=this.props;A.fromAccount=e[1].id,A.toAccount=e[2].id,A.amount=0,A.transactionDate=(new Date).toISOString(),t(Object(p.W)(A)),t(Object(c.h)(h.a,A))},this.getTransactionAccountName=t=>{const{accounts:e}=this.props,n=e&&e.find(e=>e.id===t.fromAccount);return n?`${n.description} ${n.accountCode}`:\"\"}}componentDidMount(){this.props.getAccounts(),this.props.getFilters()}componentWillUnmount(){this.props.clearListState()}shouldComponentUpdate(){return!1}render(){const{onCreate:t,getTransactionRecord:e,updateTableModel:n}=this.props;return a.createElement(\"div\",null,a.createElement(i.b,{listProps:{primaryColumn:\"account.accountCode\",secondaryColumn:\"account.type\",primaryColumnCondition:f,secondaryColumnCondition:v},updateTableModel:n,EditViewContent:m,getEditRecord:e,rootEntity:\"AccountTransaction\",editViewProps:{nameCondition:this.getTransactionAccountName},onInit:this.onInit,onCreate:t,onDelete:()=>null,onSave:()=>null,findRelated:C,filterGroupsInitial:y,defaultDeleteDisabled:!0,noListTags:!0}))}}e.default=Object(o.b)(t=>({accounts:t.accounts.items,currency:t.currency}),t=>({dispatch:t,getTransactionRecord:e=>t(Object(s.d)(e)),getFilters:()=>{t(Object(p.P)(\"AccountTransaction\"))},getAccounts:()=>t(Object(b.o)()),clearListState:()=>t(Object(p.K)()),onCreate:e=>t(Object(s.c)(e))}))(T)}}]);","extractedComments":[]}