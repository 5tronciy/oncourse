{"map":{"version":3,"sources":["documents.99-SNAPSHOT.js"],"names":["window","push","2529","module","__webpack_exports__","__webpack_require__","r","createStyles","withStyles","react","react_default","n","es","redux_form_es","OpenWith","Button","FileUploaderDialog","utils","DocumentsService","ListView","actions","tags_actions","getManualLink","constants","documents_actions","IconButton","CircularProgress","clsx_m","index_es","free_solid_svg_icons_index_es","styles_withStyles","Grid","FormControlLabel","Typography","Paper","Collapse","OpenInNew","ExpandMore","Card","CardContent","Divider","format","api","FormField","validateTagsList","links","dates_format","common","add","validateTagList","value","allValues","props","tags","Object","length","openDocumentURL","e","url","stopPropagation","open","components_DocumentGeneralTab","state","entityTags","theme","mb15","marginBottom","mt40","marginTop","previewPaper","width","height","&:hover","& $viewDocument","display","previewPaperExpand","preview","backgroundSize","backgroundRepeat","backgroundPosition","previewIcon","padding","previewHoverImage","boxShadow","palette","primary","main","wh100","documentTitle","margin","documentTitleExpandMore","rotateExpandMore","transform","centerContent","viewDocument","background","top","left","color","rootPanel","gridTemplateColumns","gridColumnGap","settingsWrapper","divider","spacing","textInfo","fontSize","typography","flexWrap","& > *","linkButtonIcon","relationButtonIcon","whiteTextColor","removedSwitch","justifyContent","alignItems","twoColumn","values","classes","hovered","form","dispatch","fileRef","moreDetailcollapsed","setMoreDetailcollapsed","a","useState","loadingDocVersion","setLoadingDocVersion","documentVersion","currentIcon","mimeType","validUrl","Array","isArray","versions","thumbnail","handleFileSelect","file","current","files","createDocumentVersion","id","name","then","docVersion","catch","error","console","onUploadClick","click","groupedAttachmentRelations","attachmentRelations","reduce","acc","cur","entity","attachmentEnities","keys","renderAttachmentRelations","map","relations","displayedRelations","slice","displayedRelationsCount","relationsCount","moreCount","entityIds","entityId","createElement","Fragment","component","className","root","onClick","onAttachmentCategoryClick","variant","label","onAttachmentLabelClick","size","thickness","buttonProgress","container","item","xs","md","[object Object]","style","backgroundImage","coloredHover","disabled","fileName","in","mountOnEnter","unmountOnExit","createdBy","type","validate","undefined","required","fullWidth","d-none","Boolean","version","key","Date","added","replace","ref","onChange","items","filter","val","isNaN","Number","control","components_DocumentEditView","assign","Initial","createdOn","modifiedOn","versionId","access","shared","description","isRemoved","Documents_filterGroups","title","filters","expression","active","findRelatedGroup","list","manualLink","setRowClasses","deleteDisabledCondition","listProps","selection","records","rows","columns","row","find","isRemovedIndex","c","visible","system","findIndex","attribute","fullScreenEditView","onInit","getFilters","getTags","clearListState","getDocumentRecord","onSave","document","onCreate","onDelete","setFilterGroups","filterGroups","updateSelection","setListCreatingNew","creatingNew","setListFullScreenEditView","linkBtnWrapper","linkBtn","lineHeight","borderRadius","openDocIcon","paddingRight","maxHeight","history","location","match","params","openFileModal","setOpenFileModal","isDragging","setIsDragging","draggingEventAdded","setSraggingEventAdded","manuallyOpenModal","setManuallyOpenModal","dialogRef","useRef","updateHistory","pathname","search","origin","href","setCreateNew","useCallback","fileDragEvent","openAddDialog","preventDefault","addDialogRefEvents","addEventListener","removeEventListener","getCustomColumnFormats","link","v","Documents_openDocumentURL","onDocumentCreate","doc","docModel","handleDocumentUpload","searchDocument","res","Documents_handleFileSelect","onDocumentModalClose","useEffect","setTimeout","primaryColumn","secondaryColumn","customColumnFormats","editViewProps","EditViewContent","getEditRecord","rootEntity","customOnCreate","findRelated","filterGroupsInitial","noListTags","dialog","opened","isBackdropDragging","backdropEnabled","onClose"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2529:function(e,t,a){\"use strict\";a.r(t);var n=a(195),r=a(1262),i=a(0),l=a.n(i),c=a(10),s=a(1),o=a(2482),m=a(225),d=a(1013),u=a(383),p=a(238),b=a(348),g=a(8),v=a(87),E=a(67),h=a(11),f=a(339),w=a(171),x=a(679),y=a(6),O=a(556),j=a(316),C=a(17),k=a(226),N=a(277),S=a(61),I=a(676),R=a(668),D=a(2481),T=a(2460),L=a(2438),P=a(2439),V=a(2440),z=a(147),B=a(12),F=a(5),A=a(488),W=a(40),$=a(20),M=a(19);O.b.add(j.i,j.j,j.h,j.l,j.k,j.g,j.f,j.e,j.d);const H=(e,t,a)=>{const{tags:n}=a;return Object(A.a)(n&&n.length>0?n:[],e,t,a)},U=(e,t)=>{e.stopPropagation(),window.open(t)};var q=Object(c.b)(e=>({tags:e.tags.entityTags.Document}),null)(Object(C.a)(e=>Object(n.a)({mb15:{marginBottom:15},mt40:{marginTop:40},previewPaper:{width:200,height:200,\"&:hover\":{\"& $viewDocument\":{display:\"flex\"}}},previewPaperExpand:{width:350,height:350},preview:{backgroundSize:\"contain\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"center\"},previewIcon:{padding:25},previewHoverImage:{\"&:hover\":{boxShadow:\"0 0 1px 1px \"+e.palette.primary.main}},wh100:{height:\"30px !important\",width:\"auto !important\"},documentTitle:{margin:\"12px 0 0\"},documentTitleExpandMore:{width:20,height:20},rotateExpandMore:{transform:\"rotate(180deg)\"},centerContent:{marginTop:12},viewDocument:{background:\"rgba(0,0,0, 0.5)\",display:\"none\",top:0,left:0,color:\"#ddd\"},rootPanel:{gridTemplateColumns:\"1fr auto\",gridColumnGap:\"8px\"},settingsWrapper:{},divider:{margin:e.spacing(3,-3)},textInfo:{fontSize:e.typography.fontSize-2+\"px\",margin:e.spacing(0,-.5),flexWrap:\"wrap\",\"& > *\":{padding:e.spacing(0,.5)}},linkButtonIcon:{fontSize:\"1.2em\"},relationButtonIcon:{fontSize:\"inherit\",padding:\"6px\"},whiteTextColor:{fontSize:12},removedSwitch:{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\",marginBottom:e.spacing(2)}}))(e=>{const{twoColumn:t,values:a,classes:n,tags:r,hovered:c=!0,form:d,dispatch:b}=e,g=Object(i.useRef)(),[v,E]=l.a.useState(!1),[h,f]=l.a.useState(!1),O=Object(u.a)(a),j=Object(u.c)(O.mimeType),C=a&&Array.isArray(a.versions)&&a.versions[0].url,A=a&&Array.isArray(a.versions)&&a.versions[0].thumbnail,q=Object(i.useCallback)(()=>{const e=g.current.files[0];e&&(f(!0),p.a.createDocumentVersion(a.id,e.name,e).then(e=>{b(Object(s.a)(d,\"versions\",0,e)),f(!1)}).catch(e=>{f(!1),console.error(e)}))},[d]),G=Object(i.useCallback)(()=>{g.current.click()},[]),J=Object(i.useMemo)(()=>a&&a.attachmentRelations?a.attachmentRelations.reduce((e,t)=>(Array.isArray(e[t.entity])?e[t.entity].push(t):e[t.entity]=[t],e),{}):[],[a,a&&a.attachmentRelations]),K=Object(i.useMemo)(()=>Object.keys(J),[J]),Y=Object(i.useCallback)(()=>K.map(e=>{const t=J[e];if(!Array.isArray(t)||0===t.length)return null;const a=t.slice(0,4),r=a.length,i=t.length,c=i-r,s=t.map(e=>e.entityId);return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{color:\"inherit\",component:\"div\",className:\"heading mt-1 centeredFlex\"},`Attached to ${i} ${e}${i>1?\"s\"===e[e.length-1]?\"es\":\"s\":\"\"} `,l.a.createElement(w.a,{classes:{root:n.linkButtonIcon},onClick:()=>((e,t)=>Object(W.a)(`/${e}/?search=id in (${t})`))(e,s)},l.a.createElement(D.a,{fontSize:\"inherit\"}))),a.map(e=>l.a.createElement(S.a,{color:\"inherit\",variant:\"body2\",component:\"div\",className:\"centeredFlex\"},e.label,l.a.createElement(w.a,{classes:{root:n.relationButtonIcon},onClick:()=>((e,t)=>Object(W.a)(`/${e}/${t}`))(e.entity,e.entityId)},l.a.createElement(D.a,{fontSize:\"inherit\"})))),c?l.a.createElement(S.a,{variant:\"body2\",className:Object(y.a)(\"d-flex align-items-baseline\",n.textInfo)},l.a.createElement(\"span\",null,`and ${c} more`)):null)}),[J]);return h?l.a.createElement(\"div\",{className:\"centeredFlex w-100 h-100 justify-content-center\"},l.a.createElement(x.a,{size:64,thickness:5,className:n.buttonProgress})):l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{container:!0,className:\"pl-3 pr-3 mt-2\"},l.a.createElement(k.a,{item:!0,xs:12,md:t?4:12},l.a.createElement(I.a,{className:Object(y.a)(\"relative\",n.previewPaper,{[n.previewPaperExpand]:t})},A?l.a.createElement(\"div\",{style:{backgroundImage:`url(data:image;base64,${A})`},className:Object(y.a)(\"w-100 h-100 cursor-pointer\",n.preview,{[n.previewHoverImage]:c})}):l.a.createElement(\"div\",{className:Object(y.a)(\"w-100 h-100 text-center cursor-pointer\",n.preview,n.previewIcon,{coloredHover:c})},j({classes:n}),l.a.createElement(\"br\",null),l.a.createElement(S.a,{variant:\"caption\",color:\"textSecondary\",className:\"text-center flex-fill text-truncate\"},\"Click to view\")),l.a.createElement(\"div\",{className:Object(y.a)(\"absolute w-100 h-100 align-items-center text-center\",n.viewDocument)},l.a.createElement(\"div\",{className:\"flex-fill\"},l.a.createElement(m.a,{variant:\"outlined\",size:\"small\",color:\"inherit\",disabled:!C,onClick:e=>U(e,C)},l.a.createElement(o.a,null),\" \",\"View\")))),l.a.createElement(S.a,{variant:\"caption\",color:\"textSecondary\",className:Object(y.a)(n.documentTitle,\"d-inline-block cursor-pointer text-center flex-fill text-truncate\"),onClick:()=>{E(!v)}},O.fileName,\" \",l.a.createElement(T.a,{className:Object(y.a)(\"d-inline-block vert-align-mid\",n.documentTitleExpandMore,v&&n.rotateExpandMore)})),l.a.createElement(R.a,{in:v,mountOnEnter:!0,unmountOnExit:!0,className:\"mb-0\"},l.a.createElement(S.a,{variant:\"caption\",color:\"textSecondary\"},O.size,l.a.createElement(\"br\",null),\"author:\",\" \",O.createdBy)),l.a.createElement(\"br\",null)),l.a.createElement(k.a,{item:!0,xs:12,md:t?4:12,className:Object(y.a)(\"pr-2\",{[n.centerContent]:!t})},l.a.createElement(F.a,{type:\"tags\",name:\"tags\",tags:r,validate:r&&r.length?H:void 0}),l.a.createElement(\"br\",null),l.a.createElement(F.a,{type:\"text\",name:\"name\",label:\"Name\",required:!0,fullWidth:!0}),l.a.createElement(F.a,{type:\"multilineText\",name:\"description\",label:\"Description\",fullWidth:!0})),l.a.createElement(k.a,{item:!0,xs:12,md:t?4:12},l.a.createElement(\"div\",{className:Object(y.a)({[n.removedSwitch]:t})},l.a.createElement(F.a,{type:\"switch\",name:\"removed\",label:\"Deleted\",color:\"primary\",fullWidth:!0})),l.a.createElement(L.a,{className:Object(y.a)({\"d-none\":!t})},l.a.createElement(P.a,{className:Object(y.a)(\"mb-0 pl-2\",n.settingsWrapper)},l.a.createElement(S.a,{color:\"inherit\",component:\"div\",className:\"heading mt-1 centeredFlex\"},\"History\"),l.a.createElement(V.a,{className:n.divider}),l.a.createElement(\"div\",null,Boolean(a.versions)&&a.versions.map(e=>l.a.createElement(\"div\",{key:\"key_\"+e.id||!1},l.a.createElement(\"div\",{className:Object(y.a)(\"d-grid mb-2\",n.rootPanel)},l.a.createElement(\"div\",null,l.a.createElement(S.a,{variant:\"body2\"},Object(z.a)(new Date(e.added),$.r).replace(/\\./g,\"\")),l.a.createElement(S.a,{variant:\"body2\",className:Object(y.a)(\"d-flex align-items-baseline\",n.textInfo)},l.a.createElement(\"span\",null,e.createdBy))),l.a.createElement(\"div\",{className:\"flex-fill\"},l.a.createElement(m.a,{variant:\"outlined\",size:\"small\",color:\"secondary\",disabled:!e.url,onClick:t=>U(t,e.url)},l.a.createElement(o.a,null),\" \",\"View\")))))),l.a.createElement(\"input\",{type:\"file\",ref:g,onChange:q,className:\"d-none\"}),l.a.createElement(m.a,{variant:\"outlined\",size:\"medium\",color:\"secondary\",className:n.mt40,onClick:G},\"UPLOAD NEW VERSION\")))),l.a.createElement(k.a,{item:!0,xs:12},t&&l.a.createElement(\"br\",null),l.a.createElement(\"div\",{className:\"flex-fill\"},l.a.createElement(F.a,{type:\"select\",name:\"access\",label:\"Security level\",items:Object.keys(B.eb).filter(e=>isNaN(Number(e))).map(M.g),required:!0})),l.a.createElement(\"div\",{className:\"mt-1 centeredFlex\"},l.a.createElement(N.a,{classes:{root:\"checkbox\"},control:l.a.createElement(F.a,{type:\"checkbox\",name:\"shared\",color:\"primary\"}),label:\"Allow document to be attached to multiple records\"})),l.a.createElement(\"br\",null),Y(),l.a.createElement(\"br\",null))))}));var G=i.memo(e=>{const{values:t}=e;return t?i.createElement(q,Object.assign({},e)):null});let J={id:null,name:null,createdOn:null,modifiedOn:null,thumbnail:null,versionId:null,access:null,shared:!1,description:null,versions:[],tags:[]};const K=e=>\"isRemoved is \"+e,Y=[{title:\"CORE FILTER\",filters:[{name:\"Public\",expression:\"webVisibility is PUBLIC and \"+K(\"false\"),active:!0},{name:\"Private\",expression:\"webVisibility is PRIVATE and \"+K(\"false\"),active:!0},{name:\"Tutors and enrolled students\",expression:\"webVisibility is STUDENTS and \"+K(\"false\"),active:!0},{name:\"Tutors\",expression:\"webVisibility is TUTORS and \"+K(\"false\"),active:!0},{name:\"Deleted\",expression:K(\"true\"),active:!1}]}],Z=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == Document and entityId\"},{title:\"Courses\",list:\"course\",expression:\"attachmentRelations.entityIdentifier == 'Course' and attachmentRelations.document.id\"},{title:\"Classes\",list:\"class\",expression:\"attachmentRelations.entityIdentifier == 'CourseClass' and attachmentRelations.document.id\"},{title:\"Contacts\",list:\"contact\",expression:\"attachmentRelations.entityIdentifier == 'Contact' and attachmentRelations.document.id\"},{title:\"Enrolments\",list:\"enrolment\",expression:\"attachmentRelations.entityIdentifier == 'Enrolment' and attachmentRelations.document.id\"}],_=Object(E.a)(\"documentManagement\"),Q=({isRemoved:e})=>\"Yes\"===e?\"op05\":void 0,X=e=>{const{selection:t,records:a}=e,{rows:n,columns:r}=a;if(!t.length||!n.length||!r.length)return!1;const i=t[0],l=n.find(e=>e.id===i);if(!l||!l.values)return!1;const c=r.filter(e=>!0===e.visible||!0===e.system).findIndex(e=>\"isRemoved\"===e.attribute);let s=!1;return-1!==c&&(s=\"true\"===l.values[c]),s};t.default=Object(c.b)(e=>({fullScreenEditView:e.list.fullScreenEditView}),e=>({onInit:()=>{e(Object(g.W)(J)),e(Object(s.h)(h.a,J))},getFilters:()=>e(Object(g.P)(\"Document\")),getTags:()=>e(Object(v.q)(\"Document\")),clearListState:()=>e(Object(g.K)()),getDocumentRecord:t=>e(Object(f.j)(t)),onSave:(t,a)=>e(Object(f.l)(t,a)),onCreate:t=>e(Object(f.i)(t)),onDelete:t=>e(Object(f.k)(t)),setFilterGroups:t=>e(Object(g.T)(t)),updateSelection:t=>e(Object(g.fb)(t)),setListCreatingNew:t=>e(Object(g.V)(t)),setListFullScreenEditView:t=>e(Object(g.Z)(t))}))(Object(r.a)(()=>Object(n.a)({linkBtnWrapper:{height:\"19px\"},linkBtn:{height:\"100%\",padding:\"0 15px\",marginBottom:\"2px\",lineHeight:\"1\",fontSize:\"inherit\",borderRadius:\"15px\"},openDocIcon:{height:\"90%\",fontSize:\"1.4rem\",paddingRight:\"5px\",maxHeight:\"100%\"}}))(e=>{const{getDocumentRecord:t,onInit:a,onDelete:n,onSave:r,getFilters:c,clearListState:s,getTags:g,onCreate:v,classes:E,setListCreatingNew:h,updateSelection:f,history:w,location:x,match:{params:y,url:O},setListFullScreenEditView:j}=e,[C,k]=l.a.useState(!1),[N,S]=l.a.useState(!1),[I,R]=l.a.useState(!1),[D,T]=l.a.useState(!1),L=l.a.useRef(null),P=(e,t)=>{window.location.origin+e+t!==window.location.href&&w.push({pathname:e,search:t})},V=l.a.useCallback(()=>{P(y.id?O.replace(\"/\"+y.id,\"/new\"):O+\"/new\",x.search),h(!0),f([\"new\"]),a()},[y,x,O]),z=l.a.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault(),S(t),k(t)},[]),B=()=>{null===L.current||I||(R(!0),L.current.addEventListener(\"dragover\",e=>z(e,!0)),L.current.addEventListener(\"dragenter\",e=>z(e,!0)),L.current.addEventListener(\"dragleave\",e=>z(e,!1)))};Object(i.useEffect)(()=>(c(),g(),window.addEventListener(\"dragenter\",e=>z(e,!0)),()=>{s(),window.removeEventListener(\"dragenter\",e=>z(e,!1))}),[]);const F=Object(i.useCallback)(()=>({link:e=>e?l.a.createElement(\"div\",{className:E.linkBtnWrapper},l.a.createElement(m.a,{variant:\"outlined\",size:\"small\",color:\"secondary\",onClick:t=>((e,t)=>{e.stopPropagation(),window.open(t)})(t,e),className:E.linkBtn},l.a.createElement(o.a,{className:E.openDocIcon}),\" \",\"View\")):e}),[E]),A=Object(i.useCallback)(e=>{const t=Object.assign({},e);v(t),T(!1)},[]),W=l.a.useCallback(e=>{e.length&&((e,t)=>{const a=e[0];a&&p.a.searchDocument(a).then(e=>{e?(J=e,t()):Object(u.b)(a).then(e=>{J=e,t()})})})(e,()=>{V(),S(!1),k(!1),j(!1)})},[y,x,O]),$=l.a.useCallback(()=>{k(!1),S(!1),T(!1),P(O.replace(\"/new\",\"\"),x.search)},[O,x]);return l.a.useEffect(()=>{D||(C?L.current?B():setTimeout(()=>{B()},100):L.current&&(R(!1),L.current.removeEventListener(\"dragover\",e=>z(e,!1)),L.current.removeEventListener(\"dragenter\",e=>z(e,!1)),L.current.removeEventListener(\"dragleave\",e=>z(e,!1))))},[C,D]),l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{listProps:{primaryColumn:\"name\",secondaryColumn:\"currentVersion.fileName\",customColumnFormats:F(),setRowClasses:Q},editViewProps:{manualLink:_},EditViewContent:G,getEditRecord:t,rootEntity:\"Document\",onInit:a,customOnCreate:()=>{k(!0),S(!0),T(!0)},onCreate:A,onDelete:n,onSave:r,findRelated:Z,filterGroupsInitial:Y,deleteDisabledCondition:X,noListTags:!0}),l.a.createElement(d.a,{dialog:!0,fileRef:L,opened:C,onChange:W,isBackdropDragging:N,backdropEnabled:N,onClose:$}))}))}}]);","extractedComments":[]}