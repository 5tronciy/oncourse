{"map":{"version":3,"sources":["sites.99-SNAPSHOT.js"],"names":["window","push","2401","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","_common_components_form_notes_utils__WEBPACK_IMPORTED_MODULE_3__","_common_components_list_view_ListView__WEBPACK_IMPORTED_MODULE_4__","_actions__WEBPACK_IMPORTED_MODULE_5__","_tags_actions__WEBPACK_IMPORTED_MODULE_6__","_components_SiteEditView__WEBPACK_IMPORTED_MODULE_7__","_common_components_list_view_actions__WEBPACK_IMPORTED_MODULE_8__","_rooms_components_RoomEditView__WEBPACK_IMPORTED_MODULE_9__","_preferences_actions__WEBPACK_IMPORTED_MODULE_10__","_common_actions__WEBPACK_IMPORTED_MODULE_11__","_constants_Config__WEBPACK_IMPORTED_MODULE_12__","_common_utils_getManualLink__WEBPACK_IMPORTED_MODULE_13__","_common_components_list_view_constants__WEBPACK_IMPORTED_MODULE_14__","filterGroups","title","filters","name","expression","active","Initial","id","isAdministrationCentre","isVirtual","isShownOnWeb","kioskUrl","street","suburb","state","postcode","country","timezone","longitude","latitude","drivingDirections","publicTransportDirections","specialInstructions","tags","rooms","documents","rules","findRelatedGroup","list","nestedEditFields","Room","props","Object","assign","secondaryColumnCondition","rows","manualLink","Sites","[object Object]","super","arguments","this","onSave","item","undefined","onCreate","onInit","defaultTimezone","defaultCountry","dispatch","getFilters","getTags","getTimezones","getCountries","collegeTimezone","getDefaultTimezone","clearListState","getSiteRecord","onDelete","listProps","primaryColumn","secondaryColumn","editViewProps","asyncValidate","asyncBlurFields","EditViewContent","getEditRecord","rootEntity","findRelated","filterGroupsInitial","userPreferences","countries","find","c","site"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{2401:function(e,t,i){\"use strict\";i.r(t);var n=i(0),s=i(10),o=i(1),r=i(140),a=i(347),l=i(104),u=i(88),d=i(2395),c=i(8),p=i(2397),m=i(13),b=i(3),h=i(29),C=i(68),g=i(11);const S=[{title:\"CORE FILTER\",filters:[{name:\"Administration Center\",expression:\"isAdministrationCentre == true\",active:!1},{name:\"Shown on Web\",expression:\"isShownOnWeb == true\",active:!1},{name:\"Virtual\",expression:\"isVirtual == true\",active:!1}]}],O={id:null,isAdministrationCentre:!1,isVirtual:!1,isShownOnWeb:!1,kioskUrl:null,name:null,street:null,suburb:null,state:null,postcode:null,country:null,timezone:null,longitude:null,latitude:null,drivingDirections:null,publicTransportDirections:null,specialInstructions:null,tags:[],rooms:[],documents:[],rules:[]},v=[{title:\"Audits\",list:\"audit\",expression:\"entityIdentifier == Site and entityId\"},{title:\"Current classes\",list:\"class\",expression:\"(endDateTime > today or isDistantLearningCourse == true) and sessions.room.site.id\"},{title:\"Documents\",list:\"document\",expression:\"attachmentRelations.entityIdentifier == Site and attachmentRelations.entityRecordId\"},{title:\"Rooms\",list:\"room\",expression:\"site.id\"},{title:\"Student feedback\",list:\"survey\",expression:\"enrolment.courseClass.room.site.id\"}],f={Room:e=>n.createElement(p.a,Object.assign({},e))},y=e=>e.isVirtual&&\"true\"===e.isVirtual?\"Virtual Site\":e.suburb||e.street||\"No Address\",j=Object(C.a)(\"sitesRooms\");class w extends n.Component{constructor(){super(...arguments),this.onSave=(e,t)=>{void 0===t.isAdministrationCentre&&(t.isAdministrationCentre=!1),void 0===t.isShownOnWeb&&(t.isShownOnWeb=!1),void 0===t.isVirtual&&(t.isVirtual=!1),this.props.onSave(e,t)},this.onCreate=e=>{void 0===e.isAdministrationCentre&&(e.isAdministrationCentre=!1),void 0===e.isShownOnWeb&&(e.isShownOnWeb=!1),void 0===e.isVirtual&&(e.isVirtual=!1),this.props.onCreate(e)},this.onInit=()=>{const{defaultTimezone:e,defaultCountry:t,dispatch:i}=this.props;O.timezone=e,O.country=t,i(Object(c.W)(O)),i(Object(o.h)(g.a,O))}}componentDidMount(){this.props.getFilters(),this.props.getTags(),this.props.getTimezones(),this.props.getCountries(),this.props.collegeTimezone||this.props.getDefaultTimezone()}shouldComponentUpdate(){return!1}componentWillUnmount(){this.props.clearListState()}render(){const{getSiteRecord:e,onDelete:t}=this.props;return n.createElement(\"div\",null,n.createElement(a.b,{listProps:{primaryColumn:\"name\",secondaryColumn:\"suburb\",secondaryColumnCondition:y},editViewProps:{manualLink:j,asyncValidate:r.a,asyncBlurFields:[\"notes[].message\"]},EditViewContent:d.a,nestedEditFields:f,getEditRecord:e,rootEntity:\"Site\",onInit:this.onInit,onDelete:t,onCreate:this.onCreate,onSave:this.onSave,findRelated:v,filterGroupsInitial:S}))}}t.default=Object(s.b)(e=>({defaultTimezone:e.userPreferences[h.p],defaultCountry:e.countries.find(e=>\"Australia\"===e.name)}),e=>({dispatch:e,getFilters:()=>{e(Object(c.P)(\"Site\"))},getTags:()=>{e(Object(u.r)(\"Site\"))},getTimezones:()=>{e(Object(m.oc)())},getDefaultTimezone:()=>{e(Object(b.gb)([h.p]))},getCountries:()=>{e(Object(m.cc)())},clearListState:()=>e(Object(c.K)()),getSiteRecord:t=>e(Object(l.r)(t)),onSave:(t,i)=>e(Object(l.x)(t,i)),onCreate:t=>e(Object(l.p)(t)),onDelete:t=>e(Object(l.u)(t))}))(w)}}]);","extractedComments":[]}