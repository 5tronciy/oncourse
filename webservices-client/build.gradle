dependencies {
	compile project(':waCommon')
	compile ('org.apache.cxf:cxf-rt-frontend-jaxws:2.6.2') {
                exclude group: 'org.slf4j', module: 'log4j-over-slf4j'
        }
        compile 'org.apache.cxf:cxf-rt-transports-http:2.6.2'
}

jar {
	manifest {
		from sharedManifest
	}
}

//the task generates Stubs by wsdl
task wsdl2Java(type: JavaExec) {
        wsdlFile =  file("${projectDir}/src/main/resources/wsdl/v5_replication.wsdl")
        bindingFile = file("${projectDir}/src/main/resources/wsdl/replication5_binding.xml")
        destDir = file ("${projectDir}/src/main/java")
        main = 'org.apache.cxf.tools.wsdlto.WSDLToJava'
        classpath = project.configurations.compile
        args = ['-d',destDir,
                '-b', bindingFile,
                '-verbose',
                wsdlFile]
}

